{"version":3,"sources":["containers/Header/Header.js","utils/getItem.js","services/loaders.js","utils/findTimePassed.js","components/commentItem/commentItem.js","containers/StoryDetails/StoryDetails.js","utils/getStories.js","components/storyItem/storyItem.js","components/button/button.js","containers/StoriesContainer/StoriesContainer.js","App.js","index.js"],"names":["Header","className","href","getItem","toggleLoading","setItem","id","fetch","then","response","json","catch","err","console","log","PageLoader","src","alt","TextLoader","findTimePassed","startTime","endTime","Date","seconds","Math","floor","getTime","minutes","hours","CommentItem","props","setComment","comment","setState","isLoading","state","this","getStory","nextProps","nextState","deleted","by","time","dangerouslySetInnerHTML","__html","text","kids","length","map","key","Component","Story","setStory","story","location","aboutProps","match","params","story_id","url","title","score","getStories","addStory","startStoryNumber","slice","StoryItem","to","pathname","currentStoryNumber","index","descendants","Button","onClick","children","StoriesContainer","stories","goAnotherPage","App","direction","loadStories","exact","path","render","component","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2217a1f4.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Header.css\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <div className=\"container clearfix\">\n        <h1 className=\"header__brand\">\n          <a href=\"/hackernews\" className=\"header__link\">\n            Fresh Hacker News\n          </a>\n        </h1>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","function getItem(toggleLoading, setItem, id) {\n  toggleLoading();\n  fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`)\n    .then((response) => response.json())\n    .then((response) => {\n      setItem(response);\n      toggleLoading();\n    })\n    .catch((err) => console.log(err));\n}\n\nexport default getItem;\n","import React from \"react\";\n\nexport function PageLoader() {\n  return (\n    <img\n      className=\"loading-img\"\n      src=\"./assets/images/loading.svg\"\n      alt=\"Loading page\"\n    />\n  );\n}\n\nexport function TextLoader() {\n  return (\n    <img\n      src=\"./assets/images/text-loading.svg\"\n      alt=\"Loading text\"\n      className=\"loading-txt\"\n    />\n  );\n}\n","function findTimePassed(startTime) {\n  let endTime = new Date();\n  endTime = Math.floor(endTime.getTime() / 1000);\n  let seconds = endTime - startTime;\n  if (seconds < 60) {\n    return seconds + \" seconds ago\";\n  }\n  let minutes = Math.floor(seconds / 60);\n  if (minutes < 60) {\n    return minutes + \" minutes ago\";\n  }\n  let hours = Math.floor(minutes / 60);\n  if (hours < 24) {\n    return hours + \" hours ago\";\n  }\n  let days = Math.floor(hours / 24);\n  hours = hours % 24;\n  return days + \" days \" + hours + \" hours ago\";\n}\n\nexport default findTimePassed;\n","import React, { Component } from \"react\";\nimport \"./commentItem.css\";\nimport getStory from \"../../utils/getItem\";\nimport findTimePassed from \"../../utils/findTimePassed\";\nimport { TextLoader } from \"../../services/loaders\";\n\nclass CommentItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      comment: null,\n      isLoading: false,\n    };\n  }\n\n  setComment = (comment) => {\n    this.setState({\n      comment,\n    });\n  };\n\n  toggleLoading = () => {\n    this.setState({\n      isLoading: !this.state.isLoading,\n    });\n  };\n\n  componentDidMount() {\n    let id = this.props.id;\n    getStory(this.toggleLoading, this.setComment, id);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState.isLoading && this.state.isLoading) {\n      return false;\n    }\n    return true;\n  }\n\n  render() {\n    return !this.state.comment || !this.state.comment.deleted ? (\n      <div className=\"comment\">\n        {this.state.isLoading || !this.state.comment ? (\n          <TextLoader />\n        ) : (\n          <>\n            <span className=\"comment__user\">{this.state.comment.by}</span>\n            <span className=\"comment__time\">\n              {findTimePassed(this.state.comment.time)}\n            </span>\n            <div\n              className=\"comment__text\"\n              dangerouslySetInnerHTML={{ __html: this.state.comment.text }}\n            ></div>\n            {this.state.comment.kids && this.state.comment.kids.length > 0 && (\n              <div className=\"comment__nested\">\n                {this.state.comment.kids.map((id) => (\n                  <CommentItem key={id} id={id} />\n                ))}\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    ) : null;\n  }\n}\n\nexport default CommentItem;\n","import React, { Component } from \"react\";\nimport \"./StoryDetails.css\";\n\nimport getStory from \"../../utils/getItem\";\nimport { PageLoader } from \"../../services/loaders\";\nimport CommentItem from \"../../components/commentItem/commentItem\";\n\nclass Story extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      story: \"\",\n      isLoading: false,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.location.aboutProps) {\n      this.setState({\n        story: this.props.location.aboutProps.story,\n      });\n    }\n    if (!this.props.location.aboutProps) {\n      let id = this.props.match.params.story_id;\n      getStory(this.toggleLoading, this.setStory, id);\n    }\n  }\n\n  setStory = (story) => {\n    this.setState({\n      story,\n    });\n  };\n\n  toggleLoading = () => {\n    this.setState({\n      isLoading: !this.state.isLoading,\n    });\n  };\n\n  render() {\n    return (\n      <section className=\"story-details\">\n        <div className=\"container\">\n          {this.state.isLoading || !this.state.story ? (\n            <PageLoader />\n          ) : (\n            <>\n              <div className=\"story-details__head\">\n                <h2 className=\"story-details__title\">\n                  <a\n                    href={this.state.story.url}\n                    className=\"story-details__link\"\n                  >\n                    {this.state.story.title}\n                  </a>\n                </h2>\n                <p className=\"story-details__info\">\n                  <span className=\"story-details__author\">\n                    By: {this.state.story.by}\n                  </span>{\" \"}\n                  <span className=\"story-details__score\">\n                    Score: {this.state.story.score}\n                  </span>\n                </p>\n                <div>\n                  <span className=\"story-details__comment-title\">Comments</span>\n                </div>\n              </div>\n              <div className=\"story-details__comments\">\n                {this.state.story.kids ? (\n                  this.state.story.kids.map((id) => (\n                    <CommentItem key={id} id={id} />\n                  ))\n                ) : (\n                  <p className=\"story-details__no-comments\">No comments</p>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default Story;\n","function getStories(toggleLoading, addStory, startStoryNumber) {\n  toggleLoading();\n  fetch(\"https://hacker-news.firebaseio.com/v0/topstories.json\")\n    .then((response) => response.json())\n    .then((response) => {\n      toggleLoading();\n      return response\n        .slice(startStoryNumber, startStoryNumber + 20)\n        .map((id) => {\n          toggleLoading();\n          return fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`)\n            .then((response) => response.json())\n            .then((response) => {\n              toggleLoading();\n              addStory(response);\n            })\n            .catch((err) => console.log(err));\n        });\n    })\n    .catch((err) => console.log(err));\n}\n\nexport default getStories;\n","import React from \"react\";\nimport \"./storyItem.css\";\nimport { Link } from \"react-router-dom\";\nimport findTimePassed from \"../../utils/findTimePassed\";\n\nfunction StoryItem(props) {\n  return (\n    <Link\n      to={{\n        pathname: \"/\" + props.story.id,\n        aboutProps: {\n          story: props.story,\n        },\n      }}\n    >\n      <li className=\"story\">\n        <h2 className=\"story__title\">\n          {props.currentStoryNumber + props.index + 1}. {props.story.title}\n        </h2>\n        <p className=\"story__info\">\n          <span className=\"story__info-item story__info-item--author\">\n            By : {props.story.by}\n          </span>\n          <span className=\"story__info-item story__info-item--score\">\n            Score : {props.story.score}\n          </span>\n          <span className=\"story__info-item story__info-item--comments\">\n            Comments : {props.story.descendants}\n          </span>\n          <span className=\"story__info-item story__info-item--time\">\n            Time : {findTimePassed(props.story.time)}\n          </span>\n        </p>\n      </li>\n    </Link>\n  );\n}\n\nexport default StoryItem;\n","import React from \"react\";\nimport \"./button.css\";\n\nfunction Button(props) {\n  return (\n    <button className={`btn ${props.className || \"\"}`} onClick={props.onClick}>\n      {props.children}\n    </button>\n  );\n}\n\nexport default Button;\n","import React from \"react\";\n\nimport StoryItem from \"../../components/storyItem/storyItem\";\nimport { PageLoader } from \"../../services/loaders\";\nimport Button from \"../../components/button/button\";\nimport \"./StoriesContainer.css\";\n\nfunction StoriesContainer(props) {\n  return (\n    <section className=\"stories\">\n      <div className=\"container\">\n        {props.isLoading || props.stories.length < 20 ? (\n          <PageLoader />\n        ) : (\n          <>\n            <ul className=\"stories__list\">\n              {props.stories.map((story, index) => (\n                <StoryItem\n                  key={story.id}\n                  story={story}\n                  index={index}\n                  currentStoryNumber={props.currentStoryNumber}\n                />\n              ))}\n            </ul>\n            <div className=\"stories__nav\">\n              <Button\n                className=\"btn-nav\"\n                onClick={() => props.goAnotherPage(\"left\")}\n              >\n                <i className=\"fas fa-caret-left\"></i>\n              </Button>\n              <span className=\"stories__page-number\">\n                {props.currentStoryNumber / 20 + 1}\n              </span>\n              <Button\n                className=\"btn-nav\"\n                onClick={() => props.goAnotherPage(\"right\")}\n              >\n                <i className=\"fas fa-caret-right\"></i>\n              </Button>\n            </div>\n          </>\n        )}\n      </div>\n    </section>\n  );\n}\n\nexport default StoriesContainer;\n","import React, { Component } from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\n\nimport Header from \"./containers/Header/Header\";\nimport Story from \"./containers/StoryDetails/StoryDetails\";\nimport getStories from \"./utils/getStories\";\nimport StoriesContainer from \"./containers/StoriesContainer/StoriesContainer\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      stories: [],\n      isLoading: false,\n      currentStoryNumber: 0,\n    };\n  }\n\n  toggleLoading = () => {\n    this.setState({\n      isLoading: !this.state.isLoading,\n    });\n  };\n\n  addStory = (story) => {\n    let stories = [...this.state.stories, story];\n    this.setState({\n      stories,\n    });\n  };\n\n  goAnotherPage = (direction) => {\n    let stories = [];\n    if (direction === \"left\") {\n      let currentStoryNumber =\n        this.state.currentStoryNumber < 20\n          ? 0\n          : this.state.currentStoryNumber - 20;\n      this.setState(\n        {\n          currentStoryNumber,\n          stories,\n        },\n        () => this.loadStories()\n      );\n    }\n    if (direction === \"right\") {\n      let currentStoryNumber =\n        this.state.currentStoryNumber > 400\n          ? 400\n          : this.state.currentStoryNumber + 20;\n      this.setState(\n        {\n          currentStoryNumber,\n          stories,\n        },\n        () => this.loadStories()\n      );\n    }\n    return;\n  };\n\n  loadStories = () => {\n    getStories(\n      this.toggleLoading,\n      this.addStory,\n      this.state.currentStoryNumber\n    );\n  };\n\n  componentDidMount() {\n    this.loadStories();\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n          <Header />\n          <Route\n            exact\n            path=\"/hackernews\"\n            render={(props) => (\n              <StoriesContainer\n                {...props}\n                isLoading={this.state.isLoading}\n                stories={this.state.stories}\n                currentStoryNumber={this.state.currentStoryNumber}\n                goAnotherPage={this.goAnotherPage}\n              />\n            )}\n          />\n          <Route path=\"/hackernews/:story_id\" component={Story} />\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/reset.css\";\nimport \"./styles/globals.css\";\nimport \"./styles/index.css\";\nimport \"./styles/layout.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}